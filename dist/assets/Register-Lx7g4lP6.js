import{S as e,_ as t,a as n,b as r,c as i,f as a,g as o,i as s,l as c,m as l,o as u,p as d,s as f,t as p,u as m,v as h,y as g}from"./index-m46nr8T0.js";var _={class:`auth-container`},v={class:`auth-card`},y={class:`form-group`},b={class:`form-group`},x={class:`form-group`},S={class:`form-group`},C={class:`form-group agree-terms`},w={class:`terms-label`},T=[`disabled`],E={class:`auth-footer`},D=s({__name:`Register`,setup(s){let D=n(),O=r(!1),k=r({username:``,email:``,password:``,confirmPassword:``,agreeTerms:!1}),A=c(()=>k.value.password===k.value.confirmPassword&&k.value.agreeTerms),j=async()=>{if(!A.value){alert(`密码不匹配或未同意条款`);return}O.value=!0;try{let e=await p(`/users/register`,{username:k.value.username,email:k.value.email,password:k.value.password});console.log(`注册成功:`,e),alert(`注册成功！请登录`),D.push(`/login`)}catch(e){console.error(`注册失败:`,e),console.log(`错误详情:`,{status:e.response?.status,data:e.response?.data,message:e.message}),alert(`注册失败: `+(e.response?.data?.message||e.message||`请稍后重试`))}finally{O.value=!1}};return(n,r)=>{let s=t(`router-link`);return o(),a(`div`,_,[m(`div`,v,[r[15]||=m(`h2`,{class:`auth-title`},`创建账号`,-1),m(`form`,{onSubmit:i(j,[`prevent`]),class:`auth-form`},[m(`div`,y,[r[5]||=m(`label`,{for:`username`},`用户名`,-1),g(m(`input`,{id:`username`,type:`text`,"onUpdate:modelValue":r[0]||=e=>k.value.username=e,placeholder:`请输入用户名`,required:``,minlength:`3`,maxlength:`20`},null,512),[[f,k.value.username]])]),m(`div`,b,[r[6]||=m(`label`,{for:`email`},`邮箱`,-1),g(m(`input`,{id:`email`,type:`email`,"onUpdate:modelValue":r[1]||=e=>k.value.email=e,placeholder:`请输入邮箱`,required:``},null,512),[[f,k.value.email]])]),m(`div`,x,[r[7]||=m(`label`,{for:`password`},`密码`,-1),g(m(`input`,{id:`password`,type:`password`,"onUpdate:modelValue":r[2]||=e=>k.value.password=e,placeholder:`请设置密码（至少6位）`,required:``,minlength:`6`},null,512),[[f,k.value.password]])]),m(`div`,S,[r[8]||=m(`label`,{for:`confirmPassword`},`确认密码`,-1),g(m(`input`,{id:`confirmPassword`,type:`password`,"onUpdate:modelValue":r[3]||=e=>k.value.confirmPassword=e,placeholder:`请再次输入密码`,required:``},null,512),[[f,k.value.confirmPassword]])]),m(`div`,C,[m(`label`,w,[g(m(`input`,{type:`checkbox`,"onUpdate:modelValue":r[4]||=e=>k.value.agreeTerms=e,required:``},null,512),[[u,k.value.agreeTerms]]),r[9]||=d(` 我已阅读并同意 `,-1),r[10]||=m(`a`,{href:`#`},`服务条款`,-1),r[11]||=d(` 和 `,-1),r[12]||=m(`a`,{href:`#`},`隐私政策`,-1)])]),m(`button`,{type:`submit`,class:`auth-button`,disabled:O.value||!A.value},e(O.value?`注册中...`:`注册`),9,T),m(`div`,E,[r[14]||=d(` 已有账号？ `,-1),l(s,{to:`/login`,class:`switch-link`},{default:h(()=>[...r[13]||=[d(`立即登录`,-1)]]),_:1})])],32)])])}}},[[`__scopeId`,`data-v-e4bc5a21`]]);export{D as default};